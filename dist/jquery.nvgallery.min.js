/*! nvgallery - v1.1.0 - 2014-07-25
* https://github.com/strackovski/nvgallery
* Copyright (c) 2014 Vladimir Straƒçkovski; Licensed MIT */
!function(a,b,c,d){"use strict";a.nvgallery=function(e,f,g){var h=this;h.el=e,h.$el=a(e),h.pics=f,h.init=function(){h.ctrl=0,h.secondCtrl=0,h.autoPlay=0,h.intervalId=0,h.$picLength=h.pics.length,h.$isOpen=0,h.scrollInterval=0,h.options=a.extend({},a.fn.nvgallery.defaults,g),h.$el.append('<div class="nv-gallerious-lightbox-shadow">'),h.$el.append('<div class="nv-gallerious-lightbox"></div>'),h.$lightbox=h.$el.find(".nv-gallerious-lightbox"),h.$lightboxshadow=h.$el.find(".nv-gallerious-lightbox-shadow"),h.$el.append('<div class="nv-gallerious-container"></div>'),h.$container=h.$el.find(".nv-gallerious-container"),h.$container.append('<div class="nv-gallerious-main"></div>'),h.$main=h.$container.find(".nv-gallerious-main"),h.$main.append('<div class="nv-gallerious-nav"></div>'),h.$nav=h.$main.find(".nv-gallerious-nav"),h.$container.append('<div class="nv-gallerious-bar"></div>'),h.$bar=h.$container.find(".nv-gallerious-bar"),h.$container.append('<div class="nv-gallerious-layer"></div>'),h.$layer=h.$container.find(".nv-gallerious-layer"),h.$main.append('<div class="nv-gallerious-image"><img class="nv-gallerious-img" src="'+h.pics[h.ctrl].path+'" alt="'+h.pics[h.ctrl].description+'"></div>'),h.$imageContainer=h.$main.find(".nv-gallerious-image"),h.$image=h.$imageContainer.find(".nv-gallerious-img"),h.components()},h.components=function(){h.$bar.append('<div class="nv-gallerious-bar-counter"></div>'),h.$bar.append('<div class="nv-gallerious-bar-slideshow"></div>'),h.$bar.append('<div class="nv-gallerious-bar-text"><div class="nv-gallerious-text-description">'+h.pics[h.ctrl].description+"</div></div>"),h.$bar.append('<div class="nv-gallerious-bar-right"><div class="nv-gallerious-bar-lightbox"><i class="fa fa-external-link"></i></div><div class="nv-gallerious-bar-thumbnails"><i class="fa fa-th"></i></div></div>'),h.$counter=h.$bar.find(".nv-gallerious-bar-counter"),h.$barSlideshow=h.$bar.find(".nv-gallerious-bar-slideshow"),h.$barText=h.$bar.find(".nv-gallerious-text"),h.$barTextDescription=h.$bar.find(".nv-gallerious-text-description"),h.$counter.append('<span class="nv-gallerious-current">'+(h.ctrl+1)+"</span>"),h.$counter.append(" / "),h.$counter.append('<span class="nv-gallerious-total">'+h.$picLength+"</span>"),h.$current=h.$counter.find(".nv-gallerious-current"),h.$barRight=h.$bar.find(".nv-gallerious-bar-right"),h.$lightboxLink=h.$bar.find(".nv-gallerious-bar-lightbox"),h.$thumbnailsLink=h.$bar.find(".nv-gallerious-bar-thumbnails"),h.$nav.append('<div class="nv-gallerious-nav-left"><</div>'),h.$nav.append('<div class="nv-gallerious-nav-right">></div>'),h.$navLeft=h.$nav.find(".nv-gallerious-nav-left"),h.$navRight=h.$nav.find(".nv-gallerious-nav-right"),h.$navLeft.css(h.options.leftArrowCss),h.$navRight.css(h.options.rightArrowCss),h.setup()},h.setup=function(){var c,d;h.$image.load(function(){h.$image.css({width:"100%"});var a=h.$image.height(),b=h.$container.height();a>b&&(c=-(a-b)/2,h.$image.css({marginTop:c}),h.$image.height()<b&&(d=h.$image.width(),h.$image.css({height:b}),h.$image.css({width:h.$image.height()*(d/a)}),c=-(h.$image.width()-h.$container.width())/2,h.$image.css({marginLeft:c}))),b>a&&(d=h.$image.width(),h.$image.css({height:b}),h.$image.css({width:h.$image.height()*(d/a)}),c=-(h.$image.width()-h.$container.width())/2,h.$image.css({marginLeft:c})),h.$image.animate({opacity:1})}),h.$lightboxLink.on("click",function(){h.lightbox(),h.secondCtrl=h.ctrl;var c=0,d=0;"fade"===h.options.effect&&(c=h.$image.attr("src"),d=h.$barTextDescription.html()),h.$lightbox.append('<img src="'+c+'"><div class="nv-gallerious-lightbox-close">x</div><div class="nv-gallerious-prev"><</div><div class="nv-gallerious-next">></div><div class="nv-gallerious-lightbox-description">'+d+"</div>");var e=a(b).height()-20,f=a(b).width()-20;h.$lightbox.find("img").load(function(){var b=a(this);h.$lightbox.fadeIn(100),h.$lightboxshadow.fadeIn(90),b.height()>e?(b.height(e),b.width()>f&&(b.width(f),b.height("auto"))):b.width()>f&&(b.width(f),b.height()>e&&b.height(e));var c="50%",d=-(h.$lightbox.height()+20)/2,g=-(h.$lightbox.width()+20)/2;h.$lightbox.css({top:c,left:c,marginTop:d,marginLeft:g})})}),(h.options.hideMenuBar===!0||h.options.disableMenuBar===!0)&&h.$bar.css("display","none"),h.options.disableMenuBar===!1&&h.options.hideMenuBar===!0&&h.$el.mouseenter(function(){h.$bar.slideDown(200)}).mouseleave(function(){0===h.$isOpen&&h.$bar.slideUp()});var e;for(e=0;e<h.$picLength;e+=1)h.$layer.append('<div class="nv-gallerious-thumb"><img src="'+h.pics[e].path+'"></div>'),h.$thumbPicture=h.$layer.find(".nv-gallerious-thumb img");h.playCtrl=h.options.autoplay===!0?"fa-pause":"fa-play",h.$barSlideshow.append('<i class="fa '+h.playCtrl+'"></i>'),h.$barSlideshow.on("click",function(){0===h.autoPlay?(h.autoPlay=1,a(this).children("i").toggleClass("fa-play fa-pause"),h.intervalId=setInterval(function(){h.$navRight.trigger("click")},h.options.interval)):(h.autoPlay=0,a(this).children("i").toggleClass("fa-play fa-pause"),clearInterval(h.intervalId))}),h.$barText.mouseenter(function(){clearInterval(h.scrollInterval);var a=1,b=function(){a-=1,h.$barTextDescription.css("margin-left",a);var c=h.$barTextDescription.width()-h.$barText.width();a>-c&&(h.scrollInterval=setTimeout(b,10))};b()}).mouseleave(function(){clearInterval(h.scrollInterval),h.$barTextDescription.css("margin-left",0)}),a(b).resize(function(){h.resize()}),h.css()},h.css=function(){h.$container.css({height:h.$container.width()*h.options.height,overflow:"hidden"}),h.$container.css(h.options.containerCss),h.$bar.css({background:h.options.containerCss.background}),h.$main.css({background:h.options.mainCss.background}),h.$bar.css(h.options.barCss),h.$barRight.css({background:h.options.containerCss.background}),h.$barRight.css({background:h.options.barCss.background}),h.clicks()},h.clicks=function(){h.$navRight.on("click",function(){h.ctrl=h.ctrl===h.$picLength-1?0:h.ctrl+1,"fade"===h.options.effect&&h.$image.fadeOut(h.options.fadeDuration,function(){h.$image.css({height:"",width:"",marginTop:"",marginLeft:""}),h.$image.css({opacity:0}),h.$image.attr("src",h.pics[h.ctrl].path),h.$image.attr("alt",h.pics[h.ctrl].description),h.$image.show(),h.$barTextDescription.html(""!==h.pics[h.ctrl].description||h.pics[h.ctrl].description!==d?h.pics[h.ctrl].description:""),h.$current.html(h.ctrl+1)})}),h.$navLeft.on("click",function(){h.ctrl=0===h.ctrl?h.$picLength-1:h.ctrl-1,"fade"===h.options.effect&&h.$image.fadeOut(h.options.fadeDuration,function(){h.$image.css({height:"",width:"",marginTop:"",marginLeft:""}),h.$image.css({opacity:0}),h.$image.attr("src",h.pics[h.ctrl].path),h.$image.attr("alt",h.pics[h.ctrl].description),h.$image.show(),h.$barTextDescription.html(""!==h.pics[h.ctrl].description||h.pics[h.ctrl].description!==d?h.pics[h.ctrl].description:""),h.$current.html(h.ctrl+1)})}),h.$thumbnailsLink.on("click",function(){0===h.$isOpen?(h.$isOpen=1,h.$layer.slideDown()):(h.$layer.slideUp(),h.$isOpen=0)});var b;h.$thumbPicture.on("click",function(){h.$isOpen=0;var c=a(this),e=0;for(b=0;b<h.$picLength;b+=1)c.attr("src")===h.pics[b].path&&(e=b),h.ctrl=e;h.$image.attr("src")!==h.pics[h.ctrl].path?"fade"===h.options.effect&&h.$image.fadeOut(h.options.fadeDuration,function(){h.$image.css({height:"",width:"",marginTop:"",marginLeft:""}),h.$layer.slideToggle(200),h.$image.css({opacity:0}),h.$image.attr("src",h.pics[h.ctrl].path),h.$image.show(),h.$barTextDescription.html(""!==h.pics[h.ctrl].description||h.pics[h.ctrl].description!==d?h.pics[h.ctrl].description:""),h.$current.html(h.ctrl+1)}):h.$layer.slideToggle(200)})},h.resize=function(){var a,b=h.$container.width(),c=h.$container.height();h.$image.width(b).height("auto");var d=h.$image.height();if(d>c&&(a=(c-d)/2,h.$image.css({marginTop:a})),h.$image.height()<c){var e=h.$image.width();h.$image.css({height:c}),h.$image.css({width:h.$image.height()*(e/d)}),a=-(h.$image.width()-h.$container.width())/2,h.$image.css({marginLeft:a})}h.$container.height(b*h.options.height)},h.lightbox=function(){a(c).keyup(function(a){"block"===h.$lightbox.css("display")&&27===a.keyCode&&(h.$lightbox.fadeOut(120,function(){h.$lightbox.html(""),h.$lightbox.removeAttr("style")}),h.$lightboxshadow.fadeOut(140))}),h.$lightboxshadow.on("click",function(){h.$lightbox.fadeOut(120,function(){h.$lightbox.html(""),h.$lightbox.removeAttr("style")}),h.$lightboxshadow.fadeOut(140)}),h.$lightbox.on("click",".nv-gallerious-lightbox-close",function(){h.$lightbox.fadeOut(120,function(){h.$lightbox.html(""),h.$lightbox.removeAttr("style")}),h.$lightboxshadow.fadeOut(140)}),h.$lightbox.on("click",".nv-gallerious-next",function(){h.secondCtrl=h.secondCtrl===h.$picLength-1?0:h.secondCtrl+1,h.$lightbox.find("img").hide(0,function(){h.$lightbox.removeAttr("style"),a(this).removeAttr("style"),a(this).attr("src",h.pics[h.secondCtrl].path),h.$lightbox.find(".nv-gallerious-lightbox-description").html(h.pics[h.secondCtrl].description)}).show()}),h.$lightbox.on("click",".nv-gallerious-prev",function(){h.secondCtrl=0===h.secondCtrl?h.pics.length-1:h.secondCtrl-1,h.$lightbox.find("img").hide(0,function(){a(this).attr("src",h.pics[h.secondCtrl].path),h.$lightbox.find(".nv-gallerious-lightbox-description").html(h.pics[h.secondCtrl].description)}).show()}),h.$image.on("click",function(){h.$lightboxLink.trigger("click")})},h.init()},a.fn.nvgallery=function(b,c){var d=a(this);return d.each(function(){var e=new a.nvgallery(d,b,c);return e})},a.fn.nvgallery.defaults={height:.5625,leftArrowCss:{borderRadius:"0 10% 10% 0",left:"0px",height:"40px",width:"40px",lineHeight:"40px"},rightArrowCss:{borderRadius:"10% 0% 0% 10%",right:"0px",height:"40px",width:"40px",lineHeight:"40px"},containerCss:{background:"#111",color:"#fff",fontWeight:100},mainCss:{background:"#111"},effect:"fade",barCss:{},disableMenuBar:!1,hideMenuBar:!1,autoplay:!1,interval:8e3,disableNav:!1,hideNav:!1,fadeDuration:30}}(jQuery,window,document);